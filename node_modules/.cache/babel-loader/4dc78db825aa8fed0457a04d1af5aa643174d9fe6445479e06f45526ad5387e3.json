{"ast":null,"code":"function ngram(N) {\n  this.enum = function (s) {\n    var ret = [];\n    for (var i = 0; i < s.length - N + 1; ++i) {\n      ret.push(s.slice(i, i + N));\n    }\n    return ret;\n  };\n  this.sim = function (s, t) {\n    var ls1 = this.enum(s),\n      ls2 = this.enum(t);\n    var x1 = norm(ls1),\n      x2 = norm(ls2);\n    var cos = 0;\n    for (var t in x1) {\n      if (t in x2) cos += x1[t] * x2[t];\n    }\n    if (cos > 1) cos = 1;\n    return cos;\n    function norm(ls) {\n      var o = {};\n      for (var i = 0; i < ls.length; ++i) {\n        var t = ls[i];\n        if (t in o) o[t]++;else o[t] = 1;\n      }\n      var sq = 0;\n      for (var k in o) sq += Math.pow(o[k], 2);\n      sq = Math.sqrt(sq);\n      for (var k in o) o[k] /= sq;\n      return o;\n    }\n  };\n}\n;\nmodule.exports = ngram;","map":{"version":3,"names":["ngram","N","enum","s","ret","i","length","push","slice","sim","t","ls1","ls2","x1","norm","x2","cos","ls","o","sq","k","Math","pow","sqrt","module","exports"],"sources":["/Users/thomasmeta/Documents/mito/node_modules/nltk/lib/ngram.js"],"sourcesContent":["function ngram(N) {\n  this.enum = function(s) {\n    var ret = [];\n    for (var i=0; i<s.length-N+1; ++i) {\n      ret.push(s.slice(i, i+N));\n    }\n    return ret;\n  };\n  this.sim = function(s, t) {\n    var ls1 = this.enum(s),\n        ls2 = this.enum(t);\n    var x1 = norm(ls1),\n        x2 = norm(ls2);\n\n    var cos = 0;\n    for (var t in x1) {\n      if (t in x2) cos += x1[t] * x2[t];\n    }\n    if (cos > 1) cos = 1;\n    return cos;\n\n    function norm(ls) {\n      var o = {};\n      for (var i=0; i<ls.length; ++i) {\n        var t = ls[i];\n        if (t in o) o[t]++; else o[t] = 1;\n      }\n      var sq = 0;\n      for (var k in o) sq += Math.pow(o[k], 2);\n      sq = Math.sqrt(sq);\n      for (var k in o) o[k] /= sq;\n      return o;\n    }\n  };\n};\nmodule.exports = ngram;\n"],"mappings":"AAAA,SAASA,KAAK,CAACC,CAAC,EAAE;EAChB,IAAI,CAACC,IAAI,GAAG,UAASC,CAAC,EAAE;IACtB,IAAIC,GAAG,GAAG,EAAE;IACZ,KAAK,IAAIC,CAAC,GAAC,CAAC,EAAEA,CAAC,GAACF,CAAC,CAACG,MAAM,GAACL,CAAC,GAAC,CAAC,EAAE,EAAEI,CAAC,EAAE;MACjCD,GAAG,CAACG,IAAI,CAACJ,CAAC,CAACK,KAAK,CAACH,CAAC,EAAEA,CAAC,GAACJ,CAAC,CAAC,CAAC;IAC3B;IACA,OAAOG,GAAG;EACZ,CAAC;EACD,IAAI,CAACK,GAAG,GAAG,UAASN,CAAC,EAAEO,CAAC,EAAE;IACxB,IAAIC,GAAG,GAAG,IAAI,CAACT,IAAI,CAACC,CAAC,CAAC;MAClBS,GAAG,GAAG,IAAI,CAACV,IAAI,CAACQ,CAAC,CAAC;IACtB,IAAIG,EAAE,GAAGC,IAAI,CAACH,GAAG,CAAC;MACdI,EAAE,GAAGD,IAAI,CAACF,GAAG,CAAC;IAElB,IAAII,GAAG,GAAG,CAAC;IACX,KAAK,IAAIN,CAAC,IAAIG,EAAE,EAAE;MAChB,IAAIH,CAAC,IAAIK,EAAE,EAAEC,GAAG,IAAIH,EAAE,CAACH,CAAC,CAAC,GAAGK,EAAE,CAACL,CAAC,CAAC;IACnC;IACA,IAAIM,GAAG,GAAG,CAAC,EAAEA,GAAG,GAAG,CAAC;IACpB,OAAOA,GAAG;IAEV,SAASF,IAAI,CAACG,EAAE,EAAE;MAChB,IAAIC,CAAC,GAAG,CAAC,CAAC;MACV,KAAK,IAAIb,CAAC,GAAC,CAAC,EAAEA,CAAC,GAACY,EAAE,CAACX,MAAM,EAAE,EAAED,CAAC,EAAE;QAC9B,IAAIK,CAAC,GAAGO,EAAE,CAACZ,CAAC,CAAC;QACb,IAAIK,CAAC,IAAIQ,CAAC,EAAEA,CAAC,CAACR,CAAC,CAAC,EAAE,CAAC,KAAMQ,CAAC,CAACR,CAAC,CAAC,GAAG,CAAC;MACnC;MACA,IAAIS,EAAE,GAAG,CAAC;MACV,KAAK,IAAIC,CAAC,IAAIF,CAAC,EAAEC,EAAE,IAAIE,IAAI,CAACC,GAAG,CAACJ,CAAC,CAACE,CAAC,CAAC,EAAE,CAAC,CAAC;MACxCD,EAAE,GAAGE,IAAI,CAACE,IAAI,CAACJ,EAAE,CAAC;MAClB,KAAK,IAAIC,CAAC,IAAIF,CAAC,EAAEA,CAAC,CAACE,CAAC,CAAC,IAAID,EAAE;MAC3B,OAAOD,CAAC;IACV;EACF,CAAC;AACH;AAAC;AACDM,MAAM,CAACC,OAAO,GAAGzB,KAAK"},"metadata":{},"sourceType":"script","externalDependencies":[]}